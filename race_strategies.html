<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Team - Olympic 1500m Race Visualization</title>
    <meta name="description" content="Meet the team behind the Olympic 1500m Race Visualization project">
    <meta name="author" content="Your Name">

    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>

    <nav>
        <img src="images/Olympic_Athletics.png" alt="c Marcomogollon" class="nav img">
        <ul class="width-limited">
            <li><a href="index.html">Home</a></li>
            <li><a href="description.html">Description</a></li>
            <li><a href="country_times.html">Country Times</a></li>
            <li><a href="world_medals.html">World Medals</a></li>
            <li><a href="race_strategies.html">Race Strategies</a></li>
            <li><a href="team.html">Team</a></li>
        </ul>
    </nav>

    <header class="title-row">
        <h1>Race Strategies</h1>
    </header>

    <main class="width-limited">
        <section class="strategy-section">
            <h2>Analyzing Race Strategies via Split Times</h2>
            <p>Through interactive visualizations, we want to understand and categorize race strategies and tactics by analyzing split times. This will offer viewers a granular understanding of athletes' performance throughout a race, allowing for deeper insights into their strategic approaches. We will go through the strengths and weaknesses of each strategy and the context in which they succeed or fail.</p>
            
            <!-- Add a div for the Plotly.js graph -->
            <div id="splitTimesChart"></div>
        </section>
    </main>

    <footer></footer>

    <script>
        // Parse the split times data from the Excel file
        var athleteNames = ["INGEBRIGTSEN Jakob", "CHERUIYOT Timothy", "KERR Josh", "KIPSANG Abel", "MECHAAL Adel", "HOCKER Cole", "McSWEYN Stewart", "ROZMYS Michal", "HEYWARD Jake", "WIGHTMAN Jake", "HOARE Oliver", "GRETHEN Charles", "FONTES Ignacio"];
        var splitTimes = [['0','14.1', '27.8', '42.0', '56.2', '1:10.5', '1:24.3', '1:38.2', '1:52.0', '2:06.1', '2:20.0', '2:33.9', '2:47.5', '3:01.2', '3:14.7', '3:28.32'],
                          // Rest of your split time data
                        ];
    
        // Function to calculate total time from split times
        function calculateTotalTime(splitTimes) {
            let totalTime = [];
            splitTimes.forEach(split => {
                let total = 0;
                split.forEach(time => {
                    total += parseFloat(time);
                });
                totalTime.push(total);
            });
            return totalTime;
        }
    
        // Function to sort athletes by split times
        function sortBySplitTimes(athleteNames, splitTimes) {
            let sortedIndexes = Array.from({ length: splitTimes[0].length - 1 }, (_, i) => i + 1); // Create an array [1, 2, ..., n] for the split times
            sortedIndexes.sort((a, b) => { // Sort the split times indexes based on the last split time
                let aTime = parseFloat(splitTimes[a][splitTimes[a].length - 1]);
                let bTime = parseFloat(splitTimes[b][splitTimes[b].length - 1]);
                return aTime - bTime;
            });
            let sortedAthleteNames = sortedIndexes.map(index => athleteNames[index]);
            let sortedSplitTimes = sortedIndexes.map(index => splitTimes[index]);
            return [sortedAthleteNames, sortedSplitTimes];
        }
    
        // Call the function to get sorted athlete names and split times
        var [sortedAthleteNames, sortedSplitTimes] = sortBySplitTimes(athleteNames, splitTimes);
    
        // Create traces for each athlete
        var traces = [];
        for (var i = 0; i < sortedAthleteNames.length; i++) {
            var trace = {
                x: ['0m','100m', '200m', '300m', '400m', '500m', '600m', '700m', '800m', '900m', '1000m', '1100m', '1200m', '1300m', '1400m', '1500m'],
                y: sortedSplitTimes[i].map(time => parseFloat(time) * 60), // Convert minutes to seconds
                mode: 'lines+markers',
                name: sortedAthleteNames[i]
            };
            traces.push(trace);
        }
    
    
        // Layout for the chart
        var layout = {
            title: 'Athlete Split Times',
            xaxis: {
                title: 'Distance'
            },
            yaxis: {
                title: 'Time (seconds)' // Update y-axis title
            }
        };
    
        // Plot the chart
        Plotly.newPlot('splitTimesChart', traces, layout);
    </script>
    
</body>

</html>